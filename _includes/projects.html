<section id="projects" class="project-grid-section">
    <h2>Projects</h2>

    <div class="grid-container">
        {% comment %} 
            Sorting by date (YYYY-MM-DD). 
            'reverse' puts 2026 at the top and 2020 at the bottom.
        {% endcomment %}
        {% assign sorted_projects = site.projects | sort: "date" | reverse %}
        
        {% for item in sorted_projects %}
            <a href="{{ item.url }}" class="project-link">
                <div class="project-card">
                    {% comment %} Extract the folder path for the image {% endcomment %}
                    {% assign folder_path = item.path | split: "/" | slice: 0, 2 | join: "/" %}
                    {% assign image_path = "/" | append: folder_path | append: "/" | append: item['main-image'] %}
                    
                    <img src="{{ image_path }}" alt="{{ item.title }} image">
                    
                    <div class="project-content">
                        {% comment %} 1. Title first {% endcomment %}
                        <h3 class="project-title">{{ item.title }}</h3>

                        {% comment %} 2. Academic Labels moved UNDER title {% endcomment %}
                        <div class="project-timeline">
                            <span class="academic-level">{{ item.academic_level }}</span>
                            <span class="academic-period">{{ item.academic_period }}</span>
                        </div>
                        
                        <div class="project-skills">
                            {% for skill in item.skills %}
                                <span class="skill">{{ skill }}</span>
                            {% endfor %}
                        </div>
                        
                        <p class="project-description">{{ item.description }}</p>
                        
                        <button class="read-more">Read more â†’</button>
                    </div>
                </div>
            </a>
        {% endfor %}
    </div>
</section>