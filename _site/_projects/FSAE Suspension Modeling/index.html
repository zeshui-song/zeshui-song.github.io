<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <script src="/assets/js/script.js"></script>
    
    <!-- MathJax (LaTeX support) -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          packages: {'[+]': ['ams']}
        }
      };
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
      async>
    </script>
    <!-- End MathJax -->

<!-- PREVIEW METADATA -->
<meta property="og:type" content="website">
<meta property="og:url" content="http://localhost:4000/_projects/FSAE%20Suspension%20Modeling/">
<meta property="og:title" content="FSAE Suspension Dynamics Modeling">


<meta property="og:description" content="Characterized the dynamic response of the Cooper Union FSAE car’s front suspension by developing a four-bar linkage kinematic model and validating simulated free oscillation against experimental vi...">


  
  

  
  

  
  
  
  

  <meta property="og:image" content="https:/raw.githubusercontent.com/zeshui-song/zeshui-song.github.io/refs/heads/main/_projects/FSAE%20Suspension%20Modeling/Sus.png">
  <meta name="twitter:image" content="https:/raw.githubusercontent.com/zeshui-song/zeshui-song.github.io/refs/heads/main/_projects/FSAE%20Suspension%20Modeling/Sus.png">


<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="FSAE Suspension Dynamics Modeling">
<meta name="twitter:description" content="Characterized the dynamic response of the Cooper Union FSAE car’s front suspension by developing a four-bar linkage kinematic model and validating simulated free oscillation against experimental vi...">
<meta name="twitter:image:aspect_ratio" content="1.91:1">
<!-- END PREVIEW METADATA -->
    
    <title>Zeshui Song's Portfolio</title>
</head>
<body>
    <!-- NAVBAR -->
     <nav>
    <div class="left">
        <a href="/">Zeshui Song</a>
    </div>

    <div class="right desktop-nav">
        <a href="/">
            <span>Home</span>
        </a>
        <a href="/projects/">
            <span>Projects</span>
        </a>
        <a href="/research/">
            <span>Research</span>
        </a>
        <a href="https://youtu.be/xvFZjo5PgG0?si=xJph3LNPv0NLrmOQ" target="_blank" rel="noopener noreferrer">
            <span>Resume</span>
        </a>
    </div>

    <button class="menu-toggle" aria-label="Toggle menu">
        <i class="fa fa-bars fa-2x"></i>
    </button>

    <div class="mobile-nav">
        <a href="/">
            <span>Home</span>
        </a>
        <a href="/projects/">
            <span>Projects</span>
        </a>
        <a href="/research/">
            <span>Research</span>
        </a>
        <a href="https://youtu.be/xvFZjo5PgG0?si=xJph3LNPv0NLrmOQ" target="_blank" rel="noopener noreferrer">
            <span>Resume</span>
        </a>
    </div>
</nav>

     <div class="page"><div class="post-view">
    <div class="summary">
        
       
        
               
        <img src="/_projects/FSAE Suspension Modeling/Sus.png" alt="FSAE Suspension Dynamics Modeling image">
        
        <div class="title-header">
            <h1>FSAE Suspension Dynamics Modeling</h1>
        </div>
        
        <div class="project-description">
            <h2>Project Overview</h2>
            <p>Characterized the dynamic response of the Cooper Union FSAE car’s front suspension by developing a four-bar linkage kinematic model and validating simulated free oscillation against experimental video tracking data.</p>
        </div>
        <div class="skills-card">
            <h2>Skills Used</h2> 
            <div class="skills-list">
                
                <span class="skill">Kinematic Modeling</span>    
                
                <span class="skill">4-Bar Linkage Analysis</span>    
                
                <span class="skill">Python (SciPy/solve_ivp)</span>    
                
                <span class="skill">Static Equilibrium Analysis</span>    
                
                <span class="skill">Video Tracking & Validation</span>    
                
            </div>
        </div>
    </div>
      
    <div class="content">
        <p><strong>Team members:</strong> Zeshui Song, Roy He, Ryan Lee<br />
<strong>Course:</strong> ME 200<br />
<strong>Duration:</strong> Nov-Dec 2025</p>

<hr />
<h1 id="how-it-works">How it works</h1>
<p>The project objective was to characterize the dynamic response of the Cooper Union FSAE car’s front suspension. We modeled the system as a four-bar linkage consisting of the upper control arm, pushrod, and shock mount, with the chassis serving as the fixed ground link. By applying a geometric solution to the linkage kinematics and solving for rigid-body static equilibrium, we derived a nonlinear effective spring constant (k<sub>eff</sub>​). This variable stiffness was then integrated into a second-order ordinary differential equation (ODE) to simulate the car’s free oscillation as a spring mass system after being released from a compressed state.</p>

<h1 id="modeling-approach">Modeling Approach</h1>

<h2 id="suspension-geometry--kinematics">Suspension Geometry &amp; Kinematics</h2>
<p>The front suspension was simplified to a planar four-bar linkage consisting of the upper control arm, pushrod, shock mount, and chassis ground. Rather than relying on vector loop equations, linkage positions were solved geometrically using circle–circle intersections, allowing the system configuration to be computed directly from an input arm angle. This approach simplified implementation while remaining numerically robust across the range of motion.</p>

<p><small><em>Comparison of the full suspension system and a simplified four-bar linkage model. The model represents the suspension using the upper control arm ( $l_1$ ), pushrod ( $l_2$ ), and shock mount ( $l_3$ and $l_5$ ), with the chassis ( $l_4$ ) acting as the fixed ground link.</em></small></p>
<div style="width: fit-content; margin: 0 auto;">



<div class="image-gallery" style="--gallery-height: 400px;">
  
      
      
          <img src="https://raw.githubusercontent.com/zeshui-song/zeshui-song.github.io/refs/heads/main/_projects/FSAE%20Suspension%20Modeling/Sus%20full.png" alt="Web image" loading="lazy" />
      
  
      
      
          <img src="https://raw.githubusercontent.com/zeshui-song/zeshui-song.github.io/refs/heads/main/_projects/FSAE%20Suspension%20Modeling/Kinematics1.png" alt="Web image" loading="lazy" />
      
  
</div>
</div>

<p>To define the system geometrically, we first define the positions of the known pivots $A$ and $C$ and the vector $\vec{d}$ connecting them:</p>

\[\begin{align*}
    \vec{A} &amp;= \langle l_1 \cos \theta_1, l_1 \sin \theta_1 \rangle \\
    \vec{C} &amp;= \langle 0, l_4 \rangle \\
    \vec{d} &amp;= \vec{C} - \vec{A}, \quad d = \|\vec{d}\|
\end{align*}\]

<p>We solve for point $B$ by viewing $\triangle ABC$ as two right triangles sharing a height $h$. The projection $a$ of link $l_2$ onto vector $\vec{d}$ and the orthogonal height $h$ are:</p>

\[a = \frac{l_2^2 - l_3^2 + d^2}{2d}, \quad h = \sqrt{l_2^2 - a^2}\]

<p>Point $B$ is located by traversing distance $a$ along the unit vector $\hat{d}$ and distance $h$ along the perpendicular vector $\hat{d}_\perp$:</p>

\[\vec{B} = \vec{A} + a \hat{d} + h \hat{d}_\perp \quad \text{where} \quad \hat{d}_\perp = \left\langle -\frac{d_y}{d}, \frac{d_x}{d} \right\rangle\]

<p>With coordinates for $A$, $B$, and $C$ known, vectors $\vec{l_2}$ and $\vec{l_3}$ are fully defined. Point $D$ is then found using the normal vector of $\vec{l_3}$ and using the length $l_5$. With points $D$ and $E$, we have fully defined the system and can find all the angles using trigonometry.</p>

<p><small><em>Geometry of the linkage variables.</em></small></p>
<div style="width: fit-content; margin: 0 auto;">



<div class="image-gallery" style="--gallery-height: 400px;">
  
      
      
          <img src="https://raw.githubusercontent.com/zeshui-song/zeshui-song.github.io/refs/heads/main/_projects/FSAE%20Suspension%20Modeling/Geometry.png" alt="Web image" loading="lazy" />
      
  
</div>
</div>

<p><small><em>Code for generating a complete array of point coordinates from a set of discrete angle inputs.</em></small></p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Geometry Solver for Four-Bar Linkage
</span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t1</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">theta1</span><span class="p">):</span>
<span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">O</span> <span class="o">+</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([</span><span class="n">l_1</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t1</span><span class="p">),</span> <span class="n">l_1</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t1</span><span class="p">)])</span> <span class="c1"># Point A position
</span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">linalg</span><span class="p">.</span><span class="n">norm</span><span class="p">(</span><span class="n">C</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1"># Distance AC
</span>        
<span class="c1"># Using law of cosines to find intersection P and height h
</span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">l_2</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">l_3</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">d</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">d</span><span class="p">)</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">l_2</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">a</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="p">(</span><span class="n">C</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">/</span> <span class="n">d</span>

<span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">h</span><span class="o">*</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">d</span> <span class="c1"># Point Bx
</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">h</span><span class="o">*</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">d</span> <span class="c1"># Point By
</span>        
<span class="c1"># Solve for Point D (perpendicular to link 3)
</span><span class="n">v3</span> <span class="o">=</span> <span class="n">C</span> <span class="o">-</span> <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">n_hat</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">np</span><span class="p">.</span><span class="n">linalg</span><span class="p">.</span><span class="n">norm</span><span class="p">(</span><span class="n">v3</span><span class="p">),</span> <span class="o">-</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">np</span><span class="p">.</span><span class="n">linalg</span><span class="p">.</span><span class="n">norm</span><span class="p">(</span><span class="n">v3</span><span class="p">)])</span>
<span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">C</span> <span class="o">+</span> <span class="n">l_5</span> <span class="o">*</span> <span class="n">n_hat</span>
</code></pre></div></div>

<h2 id="suspension-load-calculations">Suspension Load Calculations</h2>
<p>Assuming a massless suspension, we established a system of 9 static equilibrium equations based on the sum of forces and moments for the disassembled components (shock mount, upper control arm, and pushrod). We specifically solved for the normal reaction force N acting on the pushrod to calculate the effective wheel rate.</p>

<p><small><em>FBDs of disassembled suspension components. Where $N$ is the normal reaction force on the pushrod, and $F_s$ is the force from the shock absorber.</em></small></p>
<div style="width: fit-content; margin: 0 auto;">



<div class="image-gallery" style="--gallery-height: 400px;">
  
      
      
          <img src="https://raw.githubusercontent.com/zeshui-song/zeshui-song.github.io/refs/heads/main/_projects/FSAE%20Suspension%20Modeling/FBD.png" alt="Web image" loading="lazy" />
      
  
</div>
</div>

<p>Sum of forces and moments in the shock mount:</p>

\[\sum F_x = F_s cos\theta_5 +C_x -B_x = 0\]

\[\sum F_y = F_s sin\theta_5 +C_y -B_y = 0\]

\[\sum M_C = l_5F_s sin (\theta_5 - \theta_4) - l_3 B_y cos\theta_3 +L_3B_x sin\theta_3 = 0\]

<p>Sum of forces and moments in the upper control arm ($l_1$):</p>

\[\sum F_x = O_x + A_x =0\]

\[\sum F_y = O_y + A_y =0\]

\[\sum M_O = -l_1 A_x sin\theta_1 + l_1 A_y cos\theta_1 =0\]

<p>Sum of forces and moments in the pushrod ($l_2$):</p>

\[\sum F_x = B_x - A_x =0\]

\[\sum F_y = B_y - A_y + N =0\]

\[\sum M_B = -l_2 B_x sin\theta_2 + l_2 B_y cos\theta_2 =0\]

<p><small><em>Code for solving the system of 9 equations for each linkage position.</em></small></p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># -----------------------------
# Solution arrays
</span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">th1_arr</span><span class="p">)</span>

<span class="c1"># Positions
</span><span class="n">Ax_arr</span><span class="p">,</span> <span class="n">Ay_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">Bx_arr</span><span class="p">,</span> <span class="n">By_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">Cx_arr</span><span class="p">,</span> <span class="n">Cy_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">Ox_arr</span><span class="p">,</span> <span class="n">Oy_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="c1"># Normal force
</span><span class="n">N_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="c1"># -----------------------------
</span>
<span class="k">def</span> <span class="nf">build_linear_system</span><span class="p">(</span><span class="n">th1</span><span class="p">,</span> <span class="n">th2</span><span class="p">,</span> <span class="n">th3</span><span class="p">,</span> <span class="n">th4</span><span class="p">,</span> <span class="n">th5</span><span class="p">,</span> <span class="n">Fs</span><span class="p">):</span>
    <span class="s">"""
    Builds 9x9 linear system M*X = b for the linkage problem
    """</span>
    <span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>

    <span class="c1"># Force components
</span>    <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># Fx eq
</span>    <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">Fs</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">radians</span><span class="p">(</span><span class="n">th5</span><span class="p">))</span>

    <span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># Fy eq
</span>    <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">Fs</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">radians</span><span class="p">(</span><span class="n">th5</span><span class="p">))</span>

    <span class="c1"># Moment about link 3
</span>    <span class="n">M</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">l_3</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">radians</span><span class="p">(</span><span class="n">th3</span><span class="p">)),</span> <span class="o">-</span><span class="n">l_3</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">radians</span><span class="p">(</span><span class="n">th3</span><span class="p">))]</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">l_5</span> <span class="o">*</span> <span class="n">Fs</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">radians</span><span class="p">(</span><span class="n">th5</span> <span class="o">-</span> <span class="n">th4</span><span class="p">))</span>

    <span class="c1"># Geometric constraints
</span>    <span class="n">M</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">M</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">M</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">M</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">l_2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">radians</span><span class="p">(</span><span class="n">th2</span><span class="p">)),</span> <span class="n">l_2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">radians</span><span class="p">(</span><span class="n">th2</span><span class="p">))]</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">M</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">M</span><span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># Link 1 moment
</span>    <span class="n">M</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">l_1</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">radians</span><span class="p">(</span><span class="n">th1</span><span class="p">)),</span> <span class="n">l_1</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">radians</span><span class="p">(</span><span class="n">th1</span><span class="p">))]</span>
    <span class="n">b</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">M</span><span class="p">,</span> <span class="n">b</span>

<span class="c1"># -----------------------------
# Solve system for each set of angles
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">M</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">build_linear_system</span><span class="p">(</span><span class="n">th1_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">th2_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">th3_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                               <span class="n">th4_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">th5_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">Fs</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    
    <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">linalg</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

    <span class="c1"># Unpack solution into arrays
</span>    <span class="n">Ax_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">Ay_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> \
    <span class="n">Bx_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">By_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> \
    <span class="n">Cx_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">Cy_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> \
    <span class="n">Ox_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">Oy_arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> \
    <span class="n">N_arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span>
</code></pre></div></div>
<h2 id="numerical-simulation">Numerical Simulation</h2>
<p>Since the suspension geometry changes with wheel displacement, the system does not obey a linear Hooke’s Law ($F=ky$). Instead, we calculate the effective spring constant as the derivative of the vertical force ($N$) with respect to vertical displacement of the wheel ($dN/dy$).</p>

<p><small><em>FBDs of disassembled suspension components. Where $N$ is the normal reaction force on the pushrod, and $F_s$ is the force from the shock absorber.</em></small></p>
<div style="width: fit-content; margin: 0 auto;">



<div class="image-gallery" style="--gallery-height: 400px;">
  
      
      
          <img src="https://raw.githubusercontent.com/zeshui-song/zeshui-song.github.io/refs/heads/main/_projects/FSAE%20Suspension%20Modeling/FBD.png" alt="Web image" loading="lazy" />
      
  
</div>
</div>

    </div>
</div>

</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</body>

    <footer>
    <div class="footer-content">
        <div class="links">
            <a href="/">
                <span>Home</span>
            </a>
            <a href="/projects/">
                <span>Projects</span>
            </a>
             </a>
            <a href="/research/">
                <span>Research</span>
            </a>
            <a href=https://youtu.be/xvFZjo5PgG0?si=xJph3LNPv0NLrmOQ target="_blank" rel="noopener noreferrer">
                <span>Resume</span>
            </a>
        </div>
    </div>
    <div class="license">
        <p style="font-size:14px; color:#888;">Free-To-Engineer portfolio template © 2025 by lowinertia.com is licensed under <a href="https://creativecommons.org/licenses/by/4.0/?ref=chooser-v1">CC BY 4.0</a></p>
    </div>
</footer>

</html>